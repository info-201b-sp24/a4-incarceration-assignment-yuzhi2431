library(tidyverse)
prison_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv")
jail_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-jail-pop.csv")
black_prison_pop_por <- prison_pop %>% filter(!is.na(total_prison_pop), !is.na(black_prison_pop)) %>% summarize(pop = sum(black_prison_pop)/sum(total_prison_pop)) %>% pull()
black_jail_pop_por <- jail_pop %>% filter(!is.na(total_jail_pop), !is.na(black_jail_pop)) %>% summarize(pop = sum(black_jail_pop)/sum(total_jail_pop)) %>% pull()
white_prison_pop_por <- prison_pop %>% filter(!is.na(total_prison_pop), !is.na(white_prison_pop)) %>% summarize(pop = sum(white_prison_pop)/sum(total_prison_pop)) %>% pull()
white_jail_pop_por <- jail_pop %>% filter(!is.na(total_jail_pop), !is.na(white_jail_pop)) %>% summarize(pop = sum(white_jail_pop)/sum(total_jail_pop)) %>% pull()
View(jail_pop)
black_prison_pop_por <- prison_pop %>% filter(year = 2000, !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% summarize(pop = sum(black_prison_pop)/sum(total_prison_pop)) %>% pull()
black_prison_pop_por <- prison_pop %>% filter(year == 2000, !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% summarize(pop = sum(black_prison_pop)/sum(total_prison_pop)) %>% pull()
prison_pop <- prison_pop %>% filter(year == 2000)
jail_pop <- jail_pop %>% filter(year == 2000)
black_prison_pop_por <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% summarize(pop = sum(black_prison_pop)/sum(total_prison_pop)) %>% pull()
black_jail_pop_por <- jail_pop %>% filter(!is.na(total_jail_pop), !is.na(black_jail_pop)) %>% summarize(pop = sum(black_jail_pop)/sum(total_jail_pop)) %>% pull()
white_prison_pop_por <- prison_pop %>% filter(!is.na(total_prison_pop), !is.na(white_prison_pop)) %>% summarize(pop = sum(white_prison_pop)/sum(total_prison_pop)) %>% pull()
white_jail_pop_por <- jail_pop %>% filter(!is.na(total_jail_pop), !is.na(white_jail_pop)) %>% summarize(pop = sum(white_jail_pop)/sum(total_jail_pop)) %>% pull()
prison_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv")
jail_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-jail-pop.csv")
black_prison_pop_por <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% summarize(pop = sum(black_prison_pop)/sum(total_prison_pop)) %>% pull()
black_jail_pop_por <- jail_pop %>% filter(!is.na(total_jail_pop), !is.na(black_jail_pop)) %>% summarize(pop = sum(black_jail_pop)/sum(total_jail_pop)) %>% pull()
white_prison_pop_por <- prison_pop %>% filter(!is.na(total_prison_pop), !is.na(white_prison_pop)) %>% summarize(pop = sum(white_prison_pop)/sum(total_prison_pop)) %>% pull()
white_jail_pop_por <- jail_pop %>% filter(!is.na(total_jail_pop), !is.na(white_jail_pop)) %>% summarize(pop = sum(white_jail_pop)/sum(total_jail_pop)) %>% pull()
year_max_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(pop_por = sum(black_prison_pop)/sum(total_prison_pop))
View(year_max_black_prison_porportion)
year_max_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>% arrange(desc(black_pop_por)) %>% slice_head(n = 10)
year_max_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>% arrange(desc(black_pop_por))
View(year_max_black_prison_porportion)
white_jail_pop_por
year_max_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>% arrange(desc(black_pop_por)) %>% slice_head(n = 1)
year_max_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>% arrange(desc(black_pop_por)) %>% slice_head(n = 1) %>% pull
year_max_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>%  arrange(desc(black_pop_por)) %>% select(year) %>% slice_head(n = 1) %>% pull
year_min_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>%  arrange(black_pop_por) %>% select(year) %>% slice_head(n = 1) %>% pull
year_max_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>%  arrange(desc(black_pop_por)) %>% select(year) %>% slice_head(n = 1) %>% pull
year_min_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>%  arrange(black_pop_por) %>% select(year) %>% slice_head(n = 1) %>% pull
year_min_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>%  arrange(black_pop_por) %>% slice_head(n = 1)
year_max_black_prison_porportion <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(black_pop_por = sum(black_prison_pop)/sum(total_prison_pop)) %>%  arrange(desc(black_pop_por)) %>% slice_head(n = 1)
year_max_black_prison_porportion$year
year_max_black_prison_porportion$black_pop_por
I calculated the proportion of black and white people in prison to be **`r black_prison_pop_por`**, and **`r white_prison_pop_por`** respectively. Also, I calculated the proportion of black and white people in jail to be **`r black_jail_pop_por`**, and **`r white_jail_pop_por`** respectively. Considering that white people comprise of approximately 2/3 of the entire US population, and black people is only about 10%, the proportion listed above is disproportionately high for black people, which indicates the present-day racism in policing behaviors and judicial systems. Furthermore, I calculated the max ratio of black people in jail occurred in **`r year_max_black_prison_porportion$year`** with a ratio of **`r year_max_black_prison_porportion$black_pop_por`**, and the min occurred in **`r year_min_black_prison_porportion$year`** with a ratio of **`r year_min_black_prison_porportion$black_pop_por`**. It shows that the racism situation is getting better over the years.
library(ggplot2)
library(tidyverse)
prison_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv")
jail_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-jail-pop.csv")
prison_pop_yearly <- prison_pop %>% group_by(year) %>% summarize(sum_pop = sum(population))
View(prison_pop)
prison_pop_yearly <- prison_pop %>% group_by(year) %>% summarize(sum_pop = sum(total_prison_pop))
ggplot(data = prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
View(prison_pop_yearly)
prison_pop_yearly <- prison_pop %>% group_by(year) %>% filter(!is.na(total_prison_pop)) %>% summarize(sum_pop = sum(total_prison_pop))
ggplot(data = prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
graph <- ggplot(data = prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
View(graph)
black_prison_pop_yearly <- prison_pop %>% group_by(year) %>% filter(!is.na(total_prison_pop)) %>% summarize(sum_pop = sum(black_prison_pop))
View(black_prison_pop_yearly)
black_prison_pop_yearly <- prison_pop %>% group_by(year) %>% filter(!is.na(black_prison_pop)) %>% summarize(sum_pop = sum(black_prison_pop))
View(black_prison_pop_yearly)
graph <- ggplot(data = black_prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
graph <- ggplot(data = prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
graph + ggplot(data = black_prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line()
data <- data.frame(
category = rep(c("A", "B", "C"), each = 3),
subcategory = rep(c("X", "Y", "Z"), times = 3),
value = c(3, 5, 2, 4, 6, 7, 8, 4, 3)
)
View(data)
graph <- ggplot(data = black_prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
black_prison_pop_yearly <- prison_pop %>% group_by(year) %>% filter(!is.na(black_prison_pop)) %>% summarize(sum_pop = sum(black_prison_pop))
graph <- ggplot(data = black_prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
ggplot(data = black_prison_pop_yearly, mapping=aes(x = year, y = sum_pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
yearly_black_prison_pop_por <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(black_prison_pop)) %>% group_by(year) %>% summarize(pop = sum(black_prison_pop)/sum(total_prison_pop))
View(yearly_black_prison_pop_por)
ggplot(data = yearly_black_prison_pop_por, mapping=aes(x = year, y = pop)) +
geom_line() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
ggplot(data = yearly_black_prison_pop_por, mapping=aes(x = year, y = pop)) +
geom_line() +
labs(title="Proportion of Black in Jail from 1970 to 2018",
x="Year",
y = "Proportion")
yearly_white_prison_pop_por <- prison_pop %>% filter( !is.na(total_prison_pop), !is.na(white_prison_pop)) %>% group_by(year) %>% summarize(pop = sum(white_prison_pop)/sum(total_prison_pop))
ggplot() +
geom_line(data = yearly_black_prison_pop_por, aes(x = Year, y = pop, color = "Black"), size = 1) +
geom_line(data = yearly_white_prison_pop_por, aes(x = Year, y = pop, color = "White"), size = 1) +
labs(title = "Two Lines from Different Data Frames", x = "X-axis", y = "Y-axis", color = "Legend") +
scale_color_manual(values = c("Black" = "blue", "White" = "red")) +
theme_minimal()
ggplot() +
geom_line(data = yearly_black_prison_pop_por, aes(x = Year, y = pop, color = "Black")) +
geom_line(data = yearly_white_prison_pop_por, aes(x = Year, y = pop, color = "White")) +
labs(title = "Two Lines from Different Data Frames", x = "X-axis", y = "Y-axis", color = "Legend") +
scale_color_manual(values = c("Black" = "blue", "White" = "red")) +
theme_minimal()
ggplot() +
geom_line(data = yearly_black_prison_pop_por, aes(x = year, y = pop, color = "Black")) +
geom_line(data = yearly_white_prison_pop_por, aes(x = year, y = pop, color = "White")) +
labs(title = "Two Lines from Different Data Frames", x = "X-axis", y = "Y-axis", color = "Legend") +
scale_color_manual(values = c("Black" = "blue", "White" = "red")) +
theme_minimal()
ggplot() +
geom_line(data = yearly_black_prison_pop_por, aes(x = year, y = pop, color = "Black")) +
geom_line(data = yearly_white_prison_pop_por, aes(x = year, y = pop, color = "White")) +
labs(title = "Proportion of Black and White in Prison from 1970 to 2018", x = "Year", y = "Proportion", color = "Legend") +
scale_color_manual(values = c("Black" = "blue", "White" = "red")) +
theme_minimal()
ggplot() +
geom_line(data = yearly_black_prison_pop_por, aes(x = year, y = pop, color = "Black")) +
geom_line(data = yearly_white_prison_pop_por, aes(x = year, y = pop, color = "White")) +
labs(title = "Proportion of Black and White in Prison from 1970 to 2018", x = "Year", y = "Proportion", color = "Legend") +
scale_color_manual(values = c("Black" = "blue", "White" = "red"))
gc()
library(ggplot2)
library(tidyverse)
prison_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv")
jail_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-jail-pop.csv")
View(jail_pop)
ggplot(data = prison_pop, mapping=aes(x = black_prison_pop, y = white_prison_pop)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
prison_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv") %>% filter(year == 2018)
prison_pop_2918 <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv") %>% filter(year == 2018)
prison_pop_2018 <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv") %>% filter(year == 2018)
prison_pop_2018 <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv") %>% filter(year == 2018)
View(prison_pop_2018)
prison_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-prison-pop.csv")
jail_pop <- read.csv("https://raw.githubusercontent.com/melaniewalsh/Neat-Datasets/main/us-jail-pop.csv")
ggplot(data = prison_pop, mapping=aes(x = black_prison_pop, y = white_prison_pop)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
ggplot(data = prison_pop, mapping=aes(x = black_prison_pop, y = population)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
ggplot(data = prison_pop, mapping=aes(x = black_pop_15to64, y = black_prison_pop)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
wa_jail_pop <- jail_pop %>% filter(state == "WA")
View(wa_jail_pop)
View(wa_jail_pop)
king_jail_pop <- wa_jail_pop %>% filter(county == "King County")
king_jail_pop <- wa_jail_pop %>% filter(county_name == "King County")
ggplot(data = king_jail_pop, mapping=aes(x = black_pop_15to64, y = black_prison_pop)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
ggplot(data = king_jail_pop, mapping=aes(x = black_pop_15to64, y = black_jail_pop_pop)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
ggplot(data = king_jail_pop, mapping=aes(x = black_pop_15to64, y = black_jail_pop)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
View(king_jail_pop)
ggplot(data = king_jail_pop, mapping=aes(x = female_jail_pop, y = female_jail_pop)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
ggplot(data = king_jail_pop, mapping=aes(x = male_jail_pop, y = female_jail_pop)) +
geom_point() +
labs(title="Departure delays for NYC flights 2013",
subtitle="All flights",
x="Departure delay (mins)")
ggplot(data = jail_pop, mapping=aes(x = male_jail_pop, y = female_jail_pop)) +
geom_point() +
labs(title="Scatter plot ",
x="Departure delay (mins)")
